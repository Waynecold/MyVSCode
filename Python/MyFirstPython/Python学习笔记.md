# Python 学习笔记

作者：Waynecold

## 1 - 运行Python

两种方法：

1. 在“命令提示符”（CMD）中输入**python**以打开Python，出现>>>后，输入代码，回车即可运行代码。
   > 例如：`print("Hello, world!")`  

   `print()`语句可以一次输出多份内容，内容之间使用`,`分隔。
   > 例如：`print("内容1", "内容2")`

2. 还可以把代码写在一个.py结尾的文件中，再在CMD中使用命令去运行该文件。
    > 命令格式：`python 空格 盘符:\地址\文件名`  
    > 例如：`python d:\code\test.py`

## 2 - Python基础语法

### 字面量

被写在代码中固定的值，称为字面量。整数、浮点数以及字符串等等都是字面量。

Python中有6种值（数据）类型：

- 数字Number
  - 整数int
  - 浮点数float
  - 复数complex
  - 布尔整数bool
- 字符串String
- 列表List
- 元组Tuple
- 集合Set
- 字典Dictionary

### 注释

注释只是提高代码的可读性，并不会被程序执行。

- 单行注释：使用`#`+空格+注释内容

- 多行注释：使用一对三个双引号包裹注释内容，`"""`注释内容`"""`

### 变量

变量用来记录数据，以便重复使用储存的数据。Python中的变量**不需要声明**。变量在使用前须要赋值，赋值后变量才会被创建。
> 定义格式：`变量名 = 变量值`  
> （`=`是赋值运算符，意思是右边的值赋予左边的变量）

### 数据类型（基础）

上面已经提过，[基本类型](#字面量)有6种常见类型。值得注意的是Python不同于C，**变量是没有类型的，只是数据本身才有数据类型。**

使用`type()`语句来查看数据的类型。
> 例如：

```py
print(type("你好世界。"))
print(type(666))
print(type(3.1415926))
```

> 输出显示：

```md
<class 'str'>
<class 'int'>
<class 'float'>
```

### 数据类型的转换（基础）

- `int(x)`将x转换成整数
- `float(x)`将x转换成浮点数
- `str(x)`将x转换成字符串

### 标识符

一些自定义的变量，方法，类的名字，是内容的标识。

规则如下：

- 只允许英文，~~中文~~（不推荐），数字，下划线
- 数字不允许开头
- 不可使用关键字（系统保留）
- 大小写敏感

建议规范：

- 全小写英文
- 下划线命名法

### 运算符

|算术运算符|赋值运算符|复合赋值运算符|
|---|---|---|
|`+`加|`=`赋值|`+=`|
|`-`减||`-=`|
|`*`乘||`*=`|
|`/`除||`/=`|
|`//`取整除||`//=`|
|`%`取余||`%=`|
|`**`指数||`**=`|

> 复合赋值是指变量和右边结果进行运算后再赋值给左边变量

### 字符串扩展

#### 字符串的定义

1. 单引号：`name = 'wayne'`
2. 双引号：`name = "wayne"`（推荐使用）
3. 三引号：`name = """wayne"""`

上面学[注释](#注释)时提过，三引号原是**多行注释**的用法，但只要把三引号包裹的内容赋值给一个变量，即可接收成**字符串**使用。这样，其中包裹的字符串内容也是可以换行的。

当字符串包含单引号或双引号，可以互相嵌套解决。另外，只包含一边的引号的情况，可使用`\`转义。

#### 字符串的拼接

**字符串**字面量和**字符串**变量之间可以使用`+`拼接。（前面刚开始学[print()语句](#1---运行python)提到，用逗号`,`隔开多个输出内容的话，每个内容都将以空格分开。）

注意，字符串不能和非字符串类型（如数字）进行拼接。

#### 字符串格式化

使用占位符`%s`占位（C中称转换说明），后面接对应的变量，多个变量占位，用括号包裹起来，且按顺序填入。
> 语法：`"%占位符" % 变量`

> 示例：

```py
name = "Wayne"
message = "你好，%s" % name
print(message)
```

> 多个变量：

```py
weather = "小到中雨"
date = 14
month = 9
#原本是数字类型，%s转换成字符串类型
message = "今天是%s月%s日，今天的天气是%s。" % (month, date, weather)
print(message)
```

基本数据类型的占位符：

- `%s`字符串
- `%d`整数
- `%f`浮点数

### 格式化的精度控制

使用辅助符号`m.n`来控制数据的宽度和精度：

- m：控制宽度（很少使用），小于数字自身则不生效
- n：控制小数点精度，小数部分自动四舍五入

> 示例：

```py
# 3 数字的修饰符m.n
num1 = 11
num2 = 11.345
print("数字11宽度限制5，结果是：%5d" % num1)
print("数字11宽度限制1，结果是：%1d" % num1)
print("数字11宽度限制7，小数精度2，结果是：%7.2f" % num2)
print("数字11宽度限制不限制，小数精度2，结果是：%.2f" % num2)
```

> 输出结果：

```py
数字11设置宽度限制5，结果是：   11
数字11设置宽度限制1，结果是：11
数字11设置宽度限制7，小数精度2，结果是：  11.35   
数字11设置宽度限制不限制，小数精度2，结果是：11.35
```

### 字符串格式化方式 2

上面的方法还是C老一代的写法，现代的Python还能更优雅地使用：
> `f“内容{变量}”`

来快速格式化。（不理会类型但也不做精度控制）

> 示例：

```py
weather = "小到中雨"
date = 14
month = 9
print(f"今天是{month}月{date}日，今天的天气{weather}。")
```

### 表达式格式化

表达式：一条具有明确执行结果的代码语句。

> - `f"(表达式)"`
> - `"%s%d%f" % (表达式, 表达式, 表达式)`

### 数据输入

使用`input()`语句获取键盘输入，再使用一个变量来接收获取的数据即可。

- `input()`数据输入
- `print()`数据输出

> 示例：

```py
print("请告诉我你是谁？")
name = input()
print("我知道了，你是%s。" % name)

# 进一步优雅
name = input("请告诉我你是谁？")
print("我知道了，你是%s。" % name)
```

第2种提示语言直接写进`input()`括号内，效果是等同的，但更简洁优雅。

输入类型始终是**字符串**类型。注意做数据类型转换。

## 3 - Python判断语句

### 布尔类型

布尔类型是6种[基本数据类型](#字面量)中的其中一种，布尔`bool`和整数`int`，浮点数`float`，复数`complex`都属于**数字**`Number`的一类。
> 布尔类型的字面量（**注意：Python大小写敏感**）：

- 真`True` `1`
- 假`False` `0`

### 比较运算符

|运算符|描述|
|---|---|
|`==`|相等|
|`!=`|不相等|
|`>`|大于|
|`<`|小于|
|`>=`|大于等于|
|`<=`|小于等于|

使用比较运算符时会得到布尔类型的结果。

### if语句的基本格式

满足条件时，执行语句，否则跳过。

> 语法：

```py
if 条件:  
    语句1
    语句2
    ...
```

注意：

- 条件后接冒号`:`
- Python对缩进敏感，判断后执行的子代码需要**缩进4个空格**

### if...else语句

> 语法：

```py
if 判断条件:  
    成立时执行的语句1
    语句2
    语句3
    ...
else:
    不成立时执行的语句1
    语句2
    语句3
    ...
```

注意：

- else搭配if的判断条件，自身不需要判断条件
- else后面接冒号`:`
- else的代码块也要缩进4个空格

### if...elif...else复合语句

可以完成多条件的判断。

> 语法：

```py
if 条件1:  
    语句1
    语句2
    ...
elif 条件2:
    语句1
    语句2
    ...
elif 条件3:
    语句1
    语句2
    ...
else:
    语句1
    语句2
    ...
```

注意：

- elif可以写多个
- 多个判断是互斥且有序的，上一个判断满足了就不会判断了
- 可以把`input()`语句写到判断条件内，节省代码量

### 判断语句的嵌套

Python通过缩进来决定层次的关系。

> 语法：

```py
if 条件1:  
    语句1
    语句2
    ...
    if 条件2:
        语句1
        语句2
        ...
```

注意：设计层级时应注意每个判断条件的优先级。优先级高的在外层，优先级低的在内层，同等优先级的使用`elif`。

## 4 - Python循环语句

### while循环语句

只要条件满足，无限循环执行。

> 语法：

```py
while 条件:
    语句1
    语句2
    ...
```

注意：

- 条件应该要可以得到一个布尔类型的结果，True继续，False停止
- 设置好终止循环的条件，否则会无限循环
- 缩进

> 示例：无限猜数字

```py
# 获取范围在1-100的随机数
import random
num = random.randint(1, 100)
# print(f"{num}") # 此句显示随机数的确切数字

# 猜测次数的计数器
count = 0

# 设置布尔类型来标志循环是否继续
flag = True

while flag:
    guess_num = int(input("请输入你猜的数字"))
    if guess_num == num:
        print("猜中了")
        flag = False # 把标志设置为False就终止循环
    else:
        if guess_num > num: # 提示猜大了还是小了
            print("大了")
        else:
            print("小了")
    count += 1
print(f"你一共猜了{count}次") # 最后显示猜了多少次
```

### 嵌套while循环

> 示例：准备表白100天，每天送10支玫瑰，然后表白一次，100天后表白成功

```py
i = 1
while i <= 100:
    print(f"今天是第{i}天表白，准备表白……")
    j = 1
    while j <= 10:
        print(f"送给小美{j}支玫瑰花")
        j += 1
    print("小美，我喜欢你")
    i += 1
print(f"第{i - 1}天，表白成功")
```

注意：

- 通过缩进区分多层的循环
- 注意条件的控制，避免无限循环

### 补充知识

#### 1. `print()`不换行输出

多个`print()`语句之间，会自动换行打印输出，但想要输出而不换行，可以在`print()`中加入`end=''`。

> 例如：  
> `print("语句1", end='')`  
> `print("语句2")`

#### 2. `\t`制表符

使用`\t`令多行输出的单词可以对齐。

> 例如：  
> `print("Hello\tworld")`  
> `print("itheimat\tbest")`

#### 3. 换行

不同于C的`\n`换行符，Python中`print()`空内容就是换行。

### for循环语句

`for`循环是“轮询”机制，对一批内容进行逐个处理。

> 语法：（遍历字符串`name`）

```py
name = "wayne"
for x in name:
    语句1
    语句2
    ...
```

- `x`是临时变量。
- `x`属于`for`循环内的**作用域**，虽然没有在开头就定义，但也能在作用域外引用（不建议），想要在**作用域外**引用，正确做法应预先定义它
- `name`待处理的数据集（序列），如字符串

### range 语句

序列类型：

- 字符串
- 列表
- 元组

上面已提及了字符串的序列，列表和元组都是关于数字的序列。使用`range`语句，获得一个简单的**数字序列**。

- 语法1：  
  `range(num)`  
  获取从0开始到num（不含num自身）结束的数字数列，如：`range(5)`获取到`[0, 1, 2, 3, 4]`
- 语法2：  
  `range(num1, num2)`  
  获取从num1到num2（不含num2自身）结束的数字序列，如：`range(5, 10)`获取到`[5, 6, 7, 8, 9]`
- 语法3：`range(num1, num2, step)`  
  获取从num1到num2(不含自身)的，**步长**为step的序列，如：`range(5, 10, 2)`获取到`[5, 7, 9]`

### for循环的嵌套

> 语法：

```py
# 作用域外引用该变量的话需提前定义
# i = 0
# y = 0
for x in seq1 :
    语句1
    语句2
    ...
        for y in seq2 :
        语句1
        语句2
        ...
```

### 循环中断：continue和break

对自身所在的`while`循环或`for`循环都生效。无法对上层循环作用。

- `continue`语句：临时中断**本次**循环，直接进入**下一次循环**，语句后面的语句均不会执行
- `break`语句：直接**结束**循环，剩余循环均不会执行，跳到循环外的语句